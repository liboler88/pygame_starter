# main1.py：基礎貪吃蛇控制原理詳解

這份文件是針對 `main1.py` 的深度解析。這個程式碼是整個貪吃蛇遊戲的「骨架」，它雖然還不能吃東西或變長，但它完整實作了遊戲最核心的物理機制：**移動**與**操作**。

---

## 🧭 核心概念：座標系統
在電腦螢幕上，我們使用 (X, Y) 座標來定位每一個物件。

```text
(0,0)  X軸 (變大往右) ---------------------> (640, 0)
  |
  |      [ 電腦螢幕畫布 ]
  |      寬度: 640 pixel
  |      高度: 480 pixel
  |
  Y軸
 (變大往下)
  |
  v
(0,480) ----------------------------------> (640, 480)
```
*   **重點**：Y 軸往下數值會**變大**（跟我們數學課學的直角座標是相反的）。

---

## 🧬 程式碼深度拆解

### 1. 變數定義 (狀態管理)
程式一開始定義了幾個關鍵變數，它們決定了蛇的「現在」與「未來」。

```python
snake_pos = [320, 240]        # 蛇目前的位置 [X, Y]
snake_speed = 5               # 每次移動的距離 (像素)
snake_size = 20               # 蛇的大小 (20x20 像素)
direction = [snake_speed, 0]  # 蛇的移動方向 [X變化量, Y變化量]
```
*   **`snake_pos`**: 是一個清單 (List)。`snake_pos[0]` 是 X，`snake_pos[1]` 是 Y。我們透過修改這兩個數字來讓蛇移動。
*   **`direction`**: 這是最關鍵的設計。它代表「下一幀要移動多少」。
    *   如果是 `[5, 0]`：代表 X+5, Y+0 → **向右走**。
    *   如果是 `[0, -5]`：代表 X+0, Y-5 → **向上走** (記得 Y 變小是往上)。

### 2. 遊戲迴圈 (Game Loop)
`while running:` 是遊戲的心臟。只要這個迴圈在跑，遊戲就是活著的。它每秒鐘執行 60 次 (60 FPS)。

迴圈內做了三件大事：

#### A. 接收指令 (Event Processing)
```python
if event.key == pygame.K_UP:
    direction = [0, -snake_speed]
```
*   當你按下鍵盤時，我們**只修改 `direction`**，而不直接修改蛇的位置。
*   這保證了蛇會「持續」往同一個方向跑，直到你下達新的指令。

#### B. 更新物理狀態 (Update Physics)
```python
snake_pos[0] += direction[0]
snake_pos[1] += direction[1]
```
*   這就是移動的本質：**新的位置 = 舊位置 + 方向向量**。

```python
# 穿牆術 (邊界檢查)
if snake_pos[0] > 640: snake_pos[0] = 0
```
*   如果蛇的 X 座標跑超過 640 (螢幕最右邊)，我們把它強制設定為 0 (螢幕最左邊)。這樣就創造了世界是相連的錯覺。

#### C. 繪製畫面 (Rendering)
```python
screen.fill("black")  # 1. 擦黑板
pygame.draw.rect(...) # 2. 畫上新的蛇
pygame.display.flip() # 3. 翻頁顯示
```
*   **擦黑板很重要**：如果不先填滿黑色，上一幀的綠色方塊會留在螢幕上，蛇看起來會像是一條無限延伸的綠色油漆。

---

## 🎮 自我挑戰：試著修改看看
理解程式碼最好的方式就是去破壞它。建議你可以嘗試修改 `main1.py` 中的這些數值：

1.  **改變速度**：
    將 `snake_speed = 5` 改成 `10`。
    *   *結果*：蛇會跑得飛快，考驗你的反應神經。

2.  **改變蛇的大小**：
    將 `snake_size = 20` 改成 `50`。
    *   *結果*：你的蛇會變成一個巨大的綠色方塊。

3.  **改變顏色**：
    將 `"green"` 改成 `"yellow"` 或是 RGB 色碼 `(0, 255, 255)`。

4.  **取消穿牆**：
    試著把穿牆的那幾行 `if` 判斷刪掉。
    *   *結果*：你會發現蛇跑出螢幕後就再也回不來了（其實它還在繼續跑，只是跑到了你也看不到的遙遠座標）。
